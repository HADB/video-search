# Video Search

在 Web 端实现 CLIP 索引本地视频，并通过关键词搜索视频内容。

## 功能特性

- ✅ 通过 File System Access API 读写本地工作目录
- ✅ 识别视频分镜，记录分镜时间点和长度
- ✅ 分镜首帧缩略图自动保存到本地 `thumbnails` 目录
- ✅ 分镜识别结果持久化存储，支持离线查看
- ✅ 点击分镜预览图查看详细信息和播放视频

## 已实现功能

### 目录管理
- 授权访问本地目录，权限信息持久化存储
- 支持多个目录管理，可以在不同目录间切换
- 目录权限自动验证和管理

### 分镜识别
- 基于直方图差异算法的智能分镜检测
- 可调节检测敏感度阈值
- 实时显示分析进度
- 自动计算每个分镜的时长

### 缩略图管理
- 分镜首帧自动保存为 JPEG 缩略图
- 缩略图保存到视频同目录的 `thumbnails` 文件夹
- 支持从本地文件系统加载缩略图

### 数据持久化
- 分镜识别结果自动保存到 localStorage
- 按目录路径组织存储，支持多目录数据管理
- 下次访问时自动加载已识别的分镜结果

### 分镜预览
- 点击分镜缩略图查看详细信息
- 显示分镜时间、长度、差异度等信息
- 支持直接播放视频到指定分镜位置

## TODO

- [ ] 通过 CLIP 实现每个分镜首帧的索引
- [ ] 通过某种数据库记录索引结果（[LanceDB](https://lancedb.github.io/lancedb/)）
- [ ] 通过关键词搜索，显示相似度前十的分镜

## 技术栈

- **前端框架**: Nuxt 3 + Vue 3
- **UI 库**: Nuxt UI
- **视频处理**: MediaBunny
- **存储**: localStorage + File System Access API
- **类型系统**: TypeScript
